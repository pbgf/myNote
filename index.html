<!DOCTYPE html>
<html lang="en">
  <body>
    <a id="link" href="https://sf.163.com/">link</a>
    <script>
      new Promise((res) => {
        link.addEventListener("click", res, { once: true }); // 1
      }).then((e) => {
        e.preventDefault(); // 2 阻止默认跳转行为
        console.log("click");
      });
      setTimeout(() => {
        link.click(); // 3 
      }, 3000);
      // 用户点击 // 4
    </script>
  </body>
</html>
